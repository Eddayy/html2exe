<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML2EXE - Convert Web Apps to Windows Executables with Wails</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>⚡</text></svg>">
</head>
<body>
    <div class="container" id="app">
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">⚡</span>
                    <span class="logo-text">HTML2EXE</span>
                </div>
                <p class="subtitle">Convert web applications to Windows executables using Wails</p>
            </div>
        </header>

        <main class="main">
            <!-- Upload Section -->
            <section class="upload-section" id="upload-section">
                <div class="upload-area" id="upload-area">
                    <div class="upload-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                    </div>
                    <h3>Upload ZIP File</h3>
                    <p>Drag and drop or <button type="button" class="browse-btn" id="browse-btn">choose file</button></p>
                    <input type="file" id="file-input" accept=".zip" hidden>
                    <div class="upload-requirements">
                        <div class="requirements-grid">
                            <div class="requirement">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="req-icon">
                                    <polyline points="9,11 12,14 22,4"/>
                                    <path d="m21,6-10,10-4-4"/>
                                </svg>
                                <span>HTML, CSS, JS projects</span>
                            </div>
                            <div class="requirement">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="req-icon">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                    <polyline points="14,2 14,8 20,8"/>
                                </svg>
                                <span>Maximum 50MB</span>
                            </div>
                            <div class="requirement">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="req-icon">
                                    <rect x="2" y="5" width="20" height="14" rx="2"/>
                                    <line x1="2" y1="10" x2="22" y2="10"/>
                                </svg>
                                <span>Windows compatible</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Configuration Section -->
            <section class="config-section" id="config-section" style="display: none;">
                <div class="section-header">
                    <h3>Configuration</h3>
                    <p>Customize your application settings</p>
                </div>
                <div class="config-form">
                    <div class="form-group">
                        <label for="appName">Application Name:</label>
                        <input type="text" id="app-name" placeholder="My App" maxlength="214">
                        <small class="field-help">The display name of your application. Special characters will be cleaned for compatibility.</small>
                    </div>
                    <div class="form-group">
                        <label for="appDescription">Description:</label>
                        <input type="text" id="app-description" placeholder="A desktop application" maxlength="100">
                        <small class="field-help">Brief description shown in file properties and Task Manager</small>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="appWidth">Window Width:</label>
                            <input type="number" id="app-width" min="400" max="2000" value="1200">
                            <small class="field-help">Initial window width in pixels</small>
                        </div>
                        <div class="form-group">
                            <label for="appHeight">Window Height:</label>
                            <input type="number" id="app-height" min="300" max="1500" value="800">
                            <small class="field-help">Initial window height in pixels</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="appVersion">Version:</label>
                        <input type="text" id="app-version" placeholder="1.0.0" maxlength="20" value="1.0.0">
                        <small class="field-help">App version number (e.g., 1.0.0, 2.1.3) - shown in file properties</small>
                    </div>
                    <div class="form-group">
                        <label for="appCompany">Company (Optional):</label>
                        <input type="text" id="app-company" placeholder="Your Company Name" maxlength="50">
                        <small class="field-help">Company or organization name - appears as publisher</small>
                    </div>
                    
                    <!-- Icon Upload Section -->
                    <div class="form-group icon-upload-group">
                        <label>Application Icon (Optional):</label>
                        <div class="icon-upload-area" id="icon-upload-area">
                            <div class="icon-preview" id="icon-preview" style="display: none;">
                                <img id="icon-preview-img" alt="Icon preview">
                                <button type="button" class="remove-icon-btn" id="remove-icon-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <line x1="18" y1="6" x2="6" y2="18"/>
                                        <line x1="6" y1="6" x2="18" y2="18"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="icon-upload-placeholder" id="icon-upload-placeholder">
                                <div class="icon-upload-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                        <circle cx="8.5" cy="8.5" r="1.5"/>
                                        <polyline points="21,15 16,10 5,21"/>
                                    </svg>
                                </div>
                                <p>Upload icon</p>
                                <small>PNG, ICO, JPG • Max 5MB</small>
                            </div>
                            <input type="file" id="icon-input" accept=".png,.ico,.jpg,.jpeg" hidden>
                        </div>
                        <small class="field-help">Custom icon for your executable</small>
                    </div>
                </div>
                <div class="action-buttons">
                    <button type="button" class="btn btn-secondary" id="back-btn">Back</button>
                    <button type="button" class="btn btn-primary" id="convert-btn" disabled>Convert to EXE</button>
                </div>
            </section>

            <!-- Progress Section -->
            <section class="progress-section" id="progress-section" style="display: none;">
                <div class="section-header">
                    <h3>Converting</h3>
                    <p>Building your Windows executable</p>
                </div>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                    </div>
                    <div class="progress-text" id="progress-text">Uploading file...</div>
                </div>
                <div class="progress-steps" id="progress-steps">
                    <div class="step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-label">Upload</div>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-label">Building</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-label">Complete</div>
                    </div>
                </div>
            </section>

            <!-- Result Section -->
            <section class="result-section" id="result-section" style="display: none;">
                <div class="result-success" id="result-success" style="display: none;">
                    <div class="success-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22,4 12,14.01 9,11.01"/>
                        </svg>
                    </div>
                    <h3>Success</h3>
                    <p>Your executable is ready for download</p>
                    <br/>
                    <div class="download-info">
                        <div class="file-info">
                            <span class="file-name" id="result-filename">app.exe</span>
                            <span class="file-size" id="result-filesize">~50MB</span>
                        </div>
                        <button type="button" class="btn btn-primary btn-download" id="download-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="7,10 12,15 17,10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            Download
                        </button>
                    </div>
                </div>

                <div class="result-error" id="result-error" style="display: none;">
                    <div class="error-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="15" y1="9" x2="9" y2="15"/>
                            <line x1="9" y1="9" x2="15" y2="15"/>
                        </svg>
                    </div>
                    <h3>Failed</h3>
                    <p id="error-message">Conversion could not be completed</p>
                    <div class="error-details" id="error-details" style="display: none;">
                        <details>
                            <summary>Error Details</summary>
                            <pre id="error-details-text"></pre>
                        </details>
                    </div>
                </div>

                <div class="action-buttons">
                    <button type="button" class="btn btn-secondary" id="reset-btn">Convert Another File</button>
                </div>
            </section>
        </main>

        <footer class="footer">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="https://wails.io" target="_blank">Wails</a>
                    <a href="/api/health" target="_blank">Status</a>
                </div>
                <p class="footer-text">Lightweight Desktop Converter powered by Wails</p>
            </div>
        </footer>
    </div>


    <script src="script.js"></script>
</body>
</html>